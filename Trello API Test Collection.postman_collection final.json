{
	"info": {
		"_postman_id": "1007748f-c4e6-4509-b582-3fb0e64c362c",
		"name": "Trello API Test Collection",
		"description": "Automated Trello API test collection including boards, lists, cards, authentication and negative test cases.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "41715690"
	},
	"item": [
		{
			"name": "01 - Authentication",
			"item": [
				{
					"name": "TC01_Valid Authentication",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status: 200\", () => pm.response.to.have.status(200));",
									"pm.test(\"Has username\", () => pm.expect(pm.response.json().username).to.exist);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "key",
								"value": "5c012a8a0920ce829df9e226c2fb09bc",
								"type": "text"
							},
							{
								"key": "token",
								"value": "ATTA5503faafd12695062d3103345d8ad6d80d925f8d28b4bb995e17c79cb9bb9e6832EB8433",
								"type": "text"
							}
						],
						"url": {
							"raw": "https://api.trello.com/1/members/me?key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"members",
								"me"
							],
							"query": [
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "TC02_Invalid Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status: 401 Unauthorized\", () => pm.response.to.have.status(401));"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "Token",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/members/me?key={{apiKey}}&token=ATTA5503fssfd12695062d3103345d8ad6d80d925f8d38b4bb995e17c79cb9bb9e6832EB8433",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"members",
								"me"
							],
							"query": [
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "ATTA5503fssfd12695062d3103345d8ad6d80d925f8d38b4bb995e17c79cb9bb9e6832EB8433"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "TC03_Invalid API KEY",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status: 401 Unauthorized\", () => pm.response.to.have.status(401));"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/members/me?key=5c012a8a0920dds829df9e226c2fb09bc&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"members",
								"me"
							],
							"query": [
								{
									"key": "key",
									"value": "5c012a8a0920dds829df9e226c2fb09bc"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "02 - Boards",
			"item": [
				{
					"name": "TC04_Create Board",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let res = pm.response.json();",
									"pm.environment.set(\"boardId\", res.id);",
									"pm.test(\"Status: 200\", () => pm.response.to.have.status(200));",
									"pm.test(\"Board ID saved\", () => pm.expect(res.id).to.exist);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/boards?name=MyBoard&key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"boards"
							],
							"query": [
								{
									"key": "name",
									"value": "MyBoard"
								},
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "TC05_Get Board",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Board returned', ()=>pm.response.to.have.status(200));"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/boards/{{boardId}}?key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"boards",
								"{{boardId}}"
							],
							"query": [
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "TC06_ Get Board Details",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// 1. Status code is 200",
									"pm.test(\"Status: 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"// 2. The response contains the correct board ID",
									"pm.test(\"Correct Board Returned\", function () {",
									"    var jsonData = pm.response.json();",
									"    ",
									"    // Get the expected ID from the Postman variable used in the request URL",
									"    const expectedBoardId = pm.environment.get('boardId')",
									"    ",
									"    // If the variable is present, assert that the response ID matches the requested ID",
									"    if (expectedBoardId) {",
									"       pm.expect(jsonData.id).to.eql(pm.environment.get('boardId'));",
									"    } else {",
									"        // If the variable is missing, you can use the ID from the response for quick checking",
									"        // but the best practice is to ensure the variable is set correctly.",
									"        pm.expect(jsonData.id).to.be.a('string'); ",
									"        console.warn(\"The 'boardId' variable is undefined. Asserting only that an ID was returned.\");",
									"    }",
									"});",
									"",
									"// 3. The response includes required fields",
									"pm.test(\"Response has required fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property(\"name\");",
									"    pm.expect(jsonData).to.have.property(\"desc\");",
									"    pm.expect(jsonData).to.have.property(\"prefs\");",
									"    pm.expect(jsonData).to.have.property(\"url\");",
									"});",
									"",
									"// 4. The 'prefs.permissionLevel' is present and valid",
									"pm.test(\"prefs.permissionLevel is present and valid\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property(\"prefs\");",
									"    pm.expect(jsonData.prefs).to.have.property(\"permissionLevel\");",
									"    // Ensure the permission level is one of the valid Trello values",
									"    pm.expect([\"private\", \"org\", \"public\"]).to.include(jsonData.prefs.permissionLevel);",
									"});",
									"",
									"// 5. The 'labelNames' object exists and contains standard color keys",
									"pm.test(\"labelNames object exists and contains standard color keys\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property(\"labelNames\");",
									"    var standardColors = [",
									"        \"green\", \"yellow\", \"orange\", \"red\", \"purple\", \"blue\", \"sky\", \"lime\", \"pink\", \"black\",",
									"        \"green_dark\", \"yellow_dark\", \"orange_dark\", \"red_dark\", \"purple_dark\", \"blue_dark\", \"sky_dark\", \"lime_dark\", \"pink_dark\", \"black_dark\",",
									"        \"green_light\", \"yellow_light\", \"orange_light\", \"red_light\", \"purple_light\", \"blue_light\", \"sky_light\", \"lime_light\", \"pink_light\", \"black_light\"",
									"    ];",
									"    // Iterate over the list to ensure all expected color keys are present",
									"    standardColors.forEach(function(color) {",
									"        pm.expect(jsonData.labelNames).to.have.property(color);",
									"    });",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/boards/{{boardId}}?key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"boards",
								"{{boardId}}"
							],
							"query": [
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "TC07_ Update Board Name",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Board Updated\", () => pm.expect(pm.response.json().name).to.eql(\"UpdatedBoard\"));"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/boards/{{boardId}}?name=UpdatedBoard&key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"boards",
								"{{boardId}}"
							],
							"query": [
								{
									"key": "name",
									"value": "UpdatedBoard"
								},
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "TC08_ Get Board Details After Update",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status: 200\", () => pm.response.to.have.status(200));",
									"pm.test(\"Correct Board Returned\", () => pm.expect(pm.response.json().id).to.eql(pm.environment.get(\"boardId\")));"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/boards/{{boardId}}?key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"boards",
								"{{boardId}}"
							],
							"query": [
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "TC09_Get All Boards",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Boards array', ()=>pm.expect(pm.response.json()).to.be.an('array'));"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/members/me/boards?key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"members",
								"me",
								"boards"
							],
							"query": [
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "03 - Lists",
			"item": [
				{
					"name": "TC10 _Create List",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let lit = pm.response.json();",
									"pm.environment.set(\"listId\", lit.id);",
									"pm.test(\"List Created\", () => pm.response.to.have.status(200));",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/lists?name=MyList&idBoard={{boardId}}&key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"lists"
							],
							"query": [
								{
									"key": "name",
									"value": "MyList"
								},
								{
									"key": "idBoard",
									"value": "{{boardId}}"
								},
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "TC11_get List",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"\r",
									"pm.test(\"Status: 200\", () => pm.response.to.have.status(200));\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/lists/{{listId}}?key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"lists",
								"{{listId}}"
							],
							"query": [
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "TC12_Put List",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Update List Name Verified\", function () {\r",
									"    const json = pm.response.json();\r",
									"    \r",
									"    // 1. Get the expected new name from the request's query parameters\r",
									"    const newListName = pm.request.url.query.get('name');\r",
									"    \r",
									"    // 2. Assert that the 'name' field in the response matches the expected name\r",
									"    pm.expect(json.name).to.eql(newListName);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/lists/{{listId}}?key={{apiKey}}&token={{apiToken}}&name=newLIstNAme",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"lists",
								"{{listId}}"
							],
							"query": [
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								},
								{
									"key": "name",
									"value": "newLIstNAme"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "TC13_get List After Update",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status: 200\", () => pm.response.to.have.status(200));\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/lists/{{listId}}?key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"lists",
								"{{listId}}"
							],
							"query": [
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "TC14_Archive List",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('List archived', ()=>pm.response.to.have.status(200));"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/lists/{{listId}}?closed=true&key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"lists",
								"{{listId}}"
							],
							"query": [
								{
									"key": "closed",
									"value": "true"
								},
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "04 - Cards",
			"item": [
				{
					"name": "TC15 - Create Card",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let sit = pm.response.json();",
									"pm.environment.set(\"cardId\", sit.id);",
									"pm.test(\"Card Created\", () => pm.response.to.have.status(200));",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/cards?idList={{listId}}&name=MyCard&key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"cards"
							],
							"query": [
								{
									"key": "idList",
									"value": "{{listId}}"
								},
								{
									"key": "name",
									"value": "MyCard"
								},
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "TC16_Get Cards in List",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Array of cards', ()=>pm.expect(pm.response.json()).to.be.an('array'));"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/lists/{{listId}}/cards?key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"lists",
								"{{listId}}",
								"cards"
							],
							"query": [
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "TC17_Delete Card",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Post-response Script (Your Tests)\r",
									"// This script runs AFTER the DELETE request.\r",
									"\r",
									"pm.test(\"Status code is 200 or 204\", function () {\r",
									"    // Defensive check to ensure the response object exists\r",
									"    if (!pm.response || typeof pm.response.code === \"undefined\") {\r",
									"        pm.expect.fail(\"Request failed to execute or response object is missing. Check variables/network.\");\r",
									"        return; \r",
									"    }\r",
									"    // Trello API for DELETE usually returns 200 OK\r",
									"    pm.expect(pm.response.code).to.be.oneOf([200, 204]);\r",
									"});\r",
									"\r",
									"pm.test(\"Response body confirms deletion (limits:{})\", function () {\r",
									"    // If the request failed to execute, we exit early from this test.\r",
									"    if (!pm.response || typeof pm.response.code === \"undefined\") {\r",
									"        return;\r",
									"    }\r",
									"\r",
									"    // If the code is 204, we expect an empty body and exit.\r",
									"    if (pm.response.code === 204) {\r",
									"         pm.expect(pm.response.text()).to.be.oneOf([\"\", \"null\"]);\r",
									"         return;\r",
									"    }\r",
									"    \r",
									"    // Logic for Trello's specific 200 OK deletion response ({\"limits\":{}})\r",
									"    if (pm.response.code === 200) {\r",
									"        try {\r",
									"            const json = pm.response.json();\r",
									"            \r",
									"            // ASSERT that the body contains the \"limits\":{} object\r",
									"            pm.expect(json).to.be.an('object');\r",
									"            pm.expect(json).to.have.property('limits');\r",
									"            pm.expect(json.limits).to.eql({});\r",
									"            \r",
									"        } catch (e) {\r",
									"            // Fallback for unexpected response bodies (empty string, null, etc.)\r",
									"            const responseText = pm.response.text();\r",
									"            pm.expect(responseText).to.be.oneOf([\"\", \"null\", \"{}\"]);\r",
									"        }\r",
									"    }\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Pre-request Script",
									"// Goal: Create a new card so the main DELETE request has a valid cardId to delete.",
									"",
									"// --- Configuration ---",
									"// NOTE: Make sure {{listId}}, {{apiKey}}, and {{apiToken}} are defined in your variables.",
									"const listId = pm.environment.get('listId');",
									"const apiKey = pm.environment.get('apiKey');",
									"const apiToken = pm.environment.get('apiToken');",
									"const requestName = 'Card to be Deleted';",
									"",
									"if (!listId || !apiKey || !apiToken) {",
									"    console.error(\"Missing required variables (listId, apiKey, or apiToken) for Pre-request Script.\");",
									"    return;",
									"}",
									"",
									"const createCardUrl = `https://api.trello.com/1/cards?idList=${listId}&key=${apiKey}&token=${apiToken}&name=${requestName} - ${new Date().toISOString()}`;",
									"",
									"pm.sendRequest({",
									"    url: createCardUrl,",
									"    method: 'POST',",
									"}, function (err, res) {",
									"    if (err || res.code !== 200) {",
									"        console.error(\"Failed to create card in Pre-request Script.\", err || res.text);",
									"        return;",
									"    }",
									"    ",
									"    try {",
									"        const cardJson = res.json();",
									"        const newCardId = cardJson.id;",
									"        ",
									"        // Set the newly created card's ID to the {{cardId}} environment variable",
									"        pm.environment.set('cardId', newCardId);",
									"        console.log(`Successfully created card with ID: ${newCardId}`);",
									"    } catch (e) {",
									"        console.error(\"Error parsing response from card creation.\", e);",
									"    }",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/cards/{{cardId}}?key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"cards",
								"{{cardId}}"
							],
							"query": [
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "TC18 - Create Card",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let rr = pm.response.json();",
									"pm.environment.set(\"cardId\", rr.id);",
									"pm.test(\"Card Created\", () => pm.response.to.have.status(200));"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/cards?idList={{listId}}&name=MyCard&key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"cards"
							],
							"query": [
								{
									"key": "idList",
									"value": "{{listId}}"
								},
								{
									"key": "name",
									"value": "MyCard"
								},
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "TC19_Update Card Name",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Card updated', ()=>pm.response.to.have.status(200));"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/cards/{{cardId}}?name=UpdatedCard&key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"cards",
								"{{cardId}}"
							],
							"query": [
								{
									"key": "name",
									"value": "UpdatedCard"
								},
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "TC20_Get Cards After Put",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/lists/{{listId}}/cards?key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"lists",
								"{{listId}}",
								"cards"
							],
							"query": [
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "TC21_Delete Card",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Pre-request Script",
									"// Goal: Create a new card so the main DELETE request has a valid cardId to delete.",
									"",
									"// --- Configuration ---",
									"// NOTE: Make sure {{listId}}, {{apiKey}}, and {{apiToken}} are defined in your variables.",
									"const listId = pm.environment.get('listId');",
									"const apiKey = pm.environment.get('apiKey');",
									"const apiToken = pm.environment.get('apiToken');",
									"const requestName = 'Card to be Deleted';",
									"",
									"if (!listId || !apiKey || !apiToken) {",
									"    console.error(\"Missing required variables (listId, apiKey, or apiToken) for Pre-request Script.\");",
									"    return;",
									"}",
									"",
									"const createCardUrl = `https://api.trello.com/1/cards?idList=${listId}&key=${apiKey}&token=${apiToken}&name=${requestName} - ${new Date().toISOString()}`;",
									"",
									"pm.sendRequest({",
									"    url: createCardUrl,",
									"    method: 'POST',",
									"}, function (err, res) {",
									"    if (err || res.code !== 200) {",
									"        console.error(\"Failed to create card in Pre-request Script.\", err || res.text);",
									"        return;",
									"    }",
									"    ",
									"    try {",
									"        const cardJson = res.json();",
									"        const newCardId = cardJson.id;",
									"        ",
									"        // Set the newly created card's ID to the {{cardId}} environment variable",
									"        pm.environment.set('cardId', newCardId);",
									"        console.log(`Successfully created card with ID: ${newCardId}`);",
									"    } catch (e) {",
									"        console.error(\"Error parsing response from card creation.\", e);",
									"    }",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Post-response Script (Your Tests)",
									"// This script runs AFTER the DELETE request.",
									"",
									"pm.test(\"Status code is 200 or 204\", function () {",
									"    // Defensive check to ensure the response object exists",
									"    if (!pm.response || typeof pm.response.code === \"undefined\") {",
									"        pm.expect.fail(\"Request failed to execute or response object is missing. Check variables/network.\");",
									"        return; ",
									"    }",
									"    // Trello API for DELETE usually returns 200 OK",
									"    pm.expect(pm.response.code).to.be.oneOf([200, 204]);",
									"});",
									"",
									"pm.test(\"Response body confirms deletion (limits:{})\", function () {",
									"    // If the request failed to execute, we exit early from this test.",
									"    if (!pm.response || typeof pm.response.code === \"undefined\") {",
									"        return;",
									"    }",
									"",
									"    // If the code is 204, we expect an empty body and exit.",
									"    if (pm.response.code === 204) {",
									"         pm.expect(pm.response.text()).to.be.oneOf([\"\", \"null\"]);",
									"         return;",
									"    }",
									"    ",
									"    // Logic for Trello's specific 200 OK deletion response ({\"limits\":{}})",
									"    if (pm.response.code === 200) {",
									"        try {",
									"            const json = pm.response.json();",
									"            ",
									"            // ASSERT that the body contains the \"limits\":{} object",
									"            pm.expect(json).to.be.an('object');",
									"            pm.expect(json).to.have.property('limits');",
									"            pm.expect(json.limits).to.eql({});",
									"            ",
									"        } catch (e) {",
									"            // Fallback for unexpected response bodies (empty string, null, etc.)",
									"            const responseText = pm.response.text();",
									"            pm.expect(responseText).to.be.oneOf([\"\", \"null\", \"{}\"]);",
									"        }",
									"    }",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/cards/{{cardId}}?key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"cards",
								"{{cardId}}"
							],
							"query": [
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "05 - Negative Tests",
			"item": [
				{
					"name": "TC22_ Missing Required Field (Board Creation)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Expect 400\", () => pm.response.to.have.status(400));"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/boards?key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"boards"
							],
							"query": [
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "TC23_Delete Board",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Board Deleted\", () => pm.response.to.have.status(200));"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "https://api.trello.com/1/boards/{{boardId}}?key={{apiKey}}&token={{apiToken}}",
							"protocol": "https",
							"host": [
								"api",
								"trello",
								"com"
							],
							"path": [
								"1",
								"boards",
								"{{boardId}}"
							],
							"query": [
								{
									"key": "key",
									"value": "{{apiKey}}"
								},
								{
									"key": "token",
									"value": "{{apiToken}}"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "ATTA5503faafd12695062d3103345d8ad6d80d925f8d28b4bb995e17c79cb9bb9e6832EB8433",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "apiKey",
			"value": ""
		},
		{
			"key": "apiToken",
			"value": ""
		}
	]
}